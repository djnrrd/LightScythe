{"name":"Lightscythe","tagline":"My take on a Raspberry Pi Light Scythe Project","body":"# LightScythe v3 #\r\n## Credits ##\r\nThis project could not exist were it not for the work of [The Mechatronics Guy][mech],\r\n[and his update][mech2].  The work I am doing here is largely based on his list of\r\nimprovements.  Credit also has to be given to [Adafruit][adafruit] for their code and\r\ncomponents - together, you guys have saved me a lot of hard work!\r\n\r\n## Hardware ##\r\nAs I didn't want to get involved with wiring buttons directly to the GPIO pins on my Pi\r\nand it seemed that for images to be selected some form of display would be needed, I\r\nopted for the [Adafruit 16x2 LCD plate with built in buttons][ada]. Assembly was simple\r\nbut it does require a certain level of dexterity with a soldering iron as there are many\r\npins in a row that need to be soldered precisely.\r\n\r\nOf course, for the strip I used 2 metres of the [Adafruit Digital LED Strip][ada2], so\r\nI guess the next step for this is making the scythe itself. Oh, I do so love making things\r\n`</sarcasm>`\r\n\r\nBut the star of the show is the [Raspberry Pi][rpi] - I have done and intend to do so many\r\nthings with this device. I run Raspbian, and for any of this to work you need to enable I2C\r\n(for the display and buttons) and SPI (for the light strip).  To do this you will first\r\nneed to comment out the modules from the blacklist (/etc/modprobe.d/raspi-blacklist.conf):\r\n\r\n    #blacklist spi-bcm2708\r\n    #blacklist i2c-bcm2708\r\n\r\nAnd then you will need to enable the modules in /etc/modules:\r\n\r\n    snd-bcm2835\r\n    i2c-bcm2708\r\n    i2c-dev\r\n\r\nIn order to allow non-root access to the [I2C][i2c] and [SPI][spi] pins:\r\n\r\n    sudo adduser pi i2c\r\n    sudo groupadd -f --system spi\r\n    sudo adduser pi spi  # This may say that pi is already a member of the group\r\n\r\nYou will then need to create `/etc/udev/rules.d/90-spi.rules` (as root) and add\r\nthe following line:\r\n\r\n    SUBSYSTEM==\"spidev\", GROUP=\"spi\"\r\n\r\nGive the beast a reboot and she's good to go.  You should now be able to run the\r\ncode without being root.\r\n\r\n## Software ##\r\nWell, this is what I have so far.  Despite my total lack of Python knowledge I seem\r\nto be doing OK. Everything seems to be it the right place, and I have got automatic\r\nimage resizing, and I have hooked in the original image parsing code.  Once you have\r\neverything setup, you just need to run:\r\n\r\n    ./Scythe.py\r\n\r\nOn the first run, it will create a settings.ini file in the project root which will expect\r\nthe images to be found in /home/pi/images - if it cannot find either the directory or any\r\nimages the script will terminate.  (You can of course change this to any other directory\r\nyou would prefer to use, but you will need to run the Scythe once first to get the config\r\nfile.)\r\n\r\nWhen it loads, any images found in that directly will be automatically resized to the\r\ncorrect height, and the resized image will be saved in a \"preocessed\" sub-directory. You \r\ncan also set the display colour and timeout here, using the colour constants found in \r\nAdafruit_CharLCDPlate.py and any number in seconds for the timeout.\r\n\r\nThere are many ways to get your Pi to run this script automatically on boot which you\r\nwill need out in the field, however, the simplest option I found was to use crontab. \r\nJust run `crontab -e` and add the following:\r\n\r\n    @reboot /home/pi/LightScythe/Scythe.py &\r\n\r\n## Next Steps ##\r\nWell, now I need some hardware - I have ordered some of the [OpenBeams][openbeam] that\r\nI need, and I am in contact with someone who should be able to do the laser cutting\r\nfor me but the hardest part is going to be attaching the LCD plate to the Scythe. I\r\nam hoping I can work something out just using OpenBeam as I really don't want to get\r\ninto designing custom parts...\r\n\r\n[mech]: https://sites.google.com/site/mechatronicsguy/lightscythe\r\n[mech2]: https://sites.google.com/site/mechatronicsguy/lightscythe-v2\r\n[adafruit]: https://learn.adafruit.com/light-painting-with-raspberry-pi\r\n[ada]: https://learn.adafruit.com/adafruit-16x2-character-lcd-plus-keypad-for-raspberry-pi\r\n[ada2]: https://learn.adafruit.com/digital-led-strip\r\n[rpi]: http://www.raspberrypi.org/\r\n[i2c]: http://skpang.co.uk/blog/archives/575\r\n[spi]: http://quick2wire.com/non-root-access-to-spi-on-the-pi/\r\n[openbeam]: http://www.openbeamusa.com/","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}